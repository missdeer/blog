---
layout: post
author: missdeer
title: "插件开发环境"
categories:
- Plugin Framework
---
<p>　　想起插件的事，如果一个软件具备插件扩展能力，同时又希望其用户自行开发插件，那么这个软件一般说来需要提供一个良好的插件开发环境。纵观Eclipse，MSVS、MS Office等都是这样的，而且VS和Office中的扩展形式除了插件，还有宏，准确地说来，是开发宏的环境是随软件一起提供的，而插件的开发是要用其他工具的，比如VS。而我前面说的插件开发环境，其实对应的是宏开发环境。<br />　　这个开发环境简单的做法，应该是一个独立的程序，但与软件主程序之间有很深入的进程间通信，不然调试功能是不可能那么完善的。也有可能是还有一个中间的宏解释执行器，主程序和宏开发环境都是只与宏解释执行器进行通信，同时该解释执行器也有调试功能。这样做的一个明显的理由是，当调试宏时，主程序可能会被挂起，而这时调试界面则要求是活动的，所以放在主程序中是不容易处理的。<br />　　Eclipse可能不需要这么做，它也许可以在不同的实例中使用不同的配置，这样可以在一个实例中调试另一个实例。<br />　　还有一种比较极端或者不负责任的做法是，不提供开发环境，让插件开发者痛苦去吧。也许用比较高级的脚本语言来做为扩展架构的底层执行器，这个问题的影响会变小，因为脚本语言对调试的需求可能会小于像C++这种编译型语言。但我觉得无论怎么样，提供一点基本的用于调试的设施还是必要的，比如至少可以加入一种打印输出机制之类的。</p>
