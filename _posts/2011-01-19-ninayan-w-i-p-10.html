---
layout: post
image: https://blogimg.minidump.info/2011-01-19-ninayan-w-i-p-10.html
author: missdeer
title: Ninayan W.I.P.(10)
categories:
- Ninayan
- SNS
tags:
- Ninayan
- Qt
- SNS
  
---
<p>　　脑袋混沌了一天，终于基本上搞定超链接处理的功能了。<br />
　　最开始是由于我使用的处理流程的关系，选择一个合适的数据结构让我头疼了好久，最后决定使用一个list，每个元素是一个结构体，每个结构体由两部分组织，一部分是URL列表，该列表会按短网址还原后的处理顺序存储URL，另一部分则是对该URL的描述，描述的字段包括当前是否已经完成全部的还原操作，最后一个URL能不能被embed.ly拆成两个新的URL列表，代表视频的html和html5等信息。<br />
　　中间调试过程也是经历了重重磨难啊！其实也是自己代码写得有问题。一开始我是用一个map来存储url list和附着属性的，指针乱飘，调试得没有信心了，才改成上面描述的那个方案。还是有很多问题，经过层层排查，终于把所有的问题都找出来并解决掉了。甚至以为Qt的signal不能随便emit，会有对象生命周期相关的问题，最后也确认其实是在前面的代码写得有问题，哇哈哈！<br />
　　明天就看一下怎么把数据库中的已有记录读取出来当历史记录来处理超链接。然后就可以做图片浏览的功能了！图片浏览功能完成后就做Readability的功能，之后再做twitter的支持，这就可以发布第一个版本了！</p>
