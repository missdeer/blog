---
layout: post
image: https://img.peapix.com/3383078680770614643_320.jpg
author: missdeer
title: "桌面时钟换肤"
categories:
- Shareware
---
<div style="text-align: left;">　　看到搜狗输入法网站上有那么多皮肤，想到哪里可以利用一下。最后想到，桌面时钟啊，以前为了弄些皮肤来，还找了不少其他的桌面日历桌面时钟之类的小程 序，把它们的皮肤里的图片都抠出来，然后转换成自己的程序可以用的格式，还真花了不少时间。输入法的皮肤与桌面时钟的布局有些微差别，于是只好只用来显示 一下数字了，不能显示那种模拟钟面的了又花了近8个小时吧，其中还有不少代码是直接复制的。好在搜狗皮肤文件是用ZIP打包的，这比较方便，原先写的那块 解压缩的功能是调用7z实现的，那接口太繁复了，不好用，还自己特地写了个小小的dll来简化，但还是怎么看怎么觉得不爽。这次就索性全部改成zip的， 从codeproject上找了个解压zip的代码。<br />　　刚弄得可以显示出来的时候，发现显示的字体有点问题。首先是字体很小，其次是字体显示部 分是透明的，颜色不明显。字体小我倒不是很关心，但颜色不明显就比较严重了，属于不可控问题了。后来乱试了一下，偶然发现用GDI+来写字时，字体不要从 HDC那里获取，而要直接从字体名称和大小创建一个，这样就可以了，两个问题都一起解决了。<br />　　演示如下：<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://hezp7w.bay.livefilestore.com/y1mGDUw9RKzu5OLdJmSDshEwCbHH8iaYA4GuDyZurJIzHWGSDPhm_SZtHAPCDfd8Hmm46nmxgvhm5b_gywnEbK4w9nVUQV6WGMAMdGo2Yr_sIgx6C9FQmDHywd544XlCLjq6MT3wHPsZjlxG7rmgJsGZA/untitled4_thumb.png"><img style="cursor: pointer; width: 244px; height: 77px;" src="https://cdn.jsdelivr.net/gh/missdeer/blog@master/media/2009-08-09/untitled4_thumb.png" alt="" border="0" /></a><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://hezp7w.bay.livefilestore.com/y1mWD5gIievlIQN2VyP3IPhHXlzTzSwtw9tmBttf4catHrR_Sm0WefjE7aR4C4CDMyQtiGPblcqLPytGrrR3PPuA47POozyJ37qV96sDKIVxuIr2xUSwtfAywu2VTj0hInp9Z6yODn5ZfMiHlfv50osJA/untitled_thumb.png"><img style="cursor: pointer; width: 244px; height: 137px;" src="https://cdn.jsdelivr.net/gh/missdeer/blog@master/media/2009-08-09/untitled_thumb.png" alt="" border="0" /></a><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://cdn.jsdelivr.net/gh/missdeer/blog@master/media/2009-08-09/untitled3_thumb.png"><img style="cursor: pointer; width: 244px; height: 77px;" src="https://cdn.jsdelivr.net/gh/missdeer/blog@master/media/2009-08-09/untitled3_thumb.png" alt="" border="0" /></a><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://cdn.jsdelivr.net/gh/missdeer/blog@master/media/2009-08-09/untitled2_thumb.png"><img style="cursor: pointer; width: 244px; height: 71px;" src="https://cdn.jsdelivr.net/gh/missdeer/blog@master/media/2009-08-09/untitled2_thumb.png" alt="" border="0" /></a></p>
<p></div>
