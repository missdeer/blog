---
layout: post
image: https://blogimg.minidump.info/2006-08-07-MspEmu-WIP.md
author: missdeer
title: MspEmu W.I.P
categories: 
 - imported from CSDN
description: MspEmu W.I.P
tags: 
---

终于可以拿出去用了。

虽然原先定下的todo list 中还剩下一堆没有完成，但至少已经可以给人试一下了。

首先，对于Virtual ListView 的使用，想了一下，因为ListView 的列数和行数每次都是未知的，所以实现起来似乎比较麻烦，主要是以前只做过列数固定的，现在要在短时间内没信息能做出来。

其次，嵌入代码编辑器，似乎是一定要尝试一下的，等有空了慢慢研究。

另外，白天的时候吓了一跳，睡觉前还好好的可以正常运行的，一觉醒来就不行了，直接弹出一个访问违例的消息框就退出了。就像直接链接了用bc 编译的lua lib 一样，还以为也是链接了哪个东东，就在那里从VSS 库里把代码回滚到睡觉前的那个状态，结果还是不行。重新建一个工程，把这些代码文件都添加进去，也不行。万般无奈之下，想了想，我什么也没干，就是自己睡觉去了，让机器在那里跑，就出问题了。于是，就把机器关了，躺床上一会，想了一下所有能想到的办法，再开机，运行，可以了！果然是重启一下机器就好了，这个PC 系统还真是不稳定啊，哈哈。

睡觉前，把Lua/Tcl/Python 支持的代码都写完了，但没有调试。大概调试了一下，Lua 的最简单，其次是Tcl，几乎都没什么错就直接通过了，就是Python 的麻烦了，调用脚本中的函数总是没有执行完全，执行到某些地方就退出了。再看看Python 的Help，是初始化Module有问题吗，写成和它一模一样的，还是不行，再回去看，原来在扩展Python 库时，C 解析Python 传来的参数时，函数调用方法错了，原来可以在一条函数调用中把所有的参数都提取出来。这样一弄，果然好了。我还是在想，为什么Python 不把这部分做得像Lua 那样简单（”傻瓜化“）呢？

剩下就是写一下文档了。

以后，如果要完善，就是加个代码编辑器，加个控制台交互式解释界面，还有，比前两点稍微有用一点的是，把所有的数据都移到配置文件中去，这样以后有增加，修改的，就不用改源代码再编译了，只要改一下配置文件就可以了。

Happy，不知道有没有什么大问题，一直以来都是只关注功能的实现，从来没想过别人会去怎么点它操作它，弄出什么问题了，呵呵。所以说，我做测试的话，这个思维方式太死板了。
