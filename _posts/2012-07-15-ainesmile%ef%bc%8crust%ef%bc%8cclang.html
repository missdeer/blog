---
layout: post
title: Ainesmile，Rust，Clang
categories:
- Ainesmile
tags:
- Ainesmile
- Clang
- Rust
  
---
<p>　　最近Ainesmile的进展几乎停下来了，因为想到要让它支持像TextMate那样的bundles机制，但又为了避开版权问题而不能直接使用TextMate的bundles，所以就想把那些bundle的格式转换一下用就行了，于是就要写个小程序进行文件格式的转换。为了这个转换小程序更具有通用性和实用性，我就很是贪心地想让它支持在JSON、Apple PList、Windows INI、Java Properties和plain XML任意二者间进行相互转换。本来想想觉得只是个很小的任务，可实际做的时间还是有很多事情要做的，而且想来这样一个具有通用性和实用性的工具应该可以发布给别人使用，于是在包装上也做了更多点的工作，比如画图标，而且为了能在Windows和Mac OS X上都能使用，同时以为以前用过的一个Rapid XML封装更容易使用，结果陷入了无尽的跨平台的fixing中。<br />
　　昨天发现一个新语言，Rust，据说是Mozilla开发来为了替代C++重写Firefox用的，现在才0.3版本，语言特性也还在快速变化中。看了半天的tutorial，发现语法上给我的感觉是很像Ruby，又有Erlang的一点点元素，而它自称是一种系统编程语言，所以从一开始就很注重与C的交互。它是一种编译型语言，有个叫rustc的编译器，现在还只能通过自己下载编译源代码来使用它。看tutorial的时候突然有个念头，这些年不断冒出来的声称解决了一大堆问题的编程语言，实际上也就是它声称的那些个领域上表现较好而已啊，C语言才是王道啊，哈哈。<br />
　　在编译Rust的时候，发现它自动下载了最新的LLVM和Clang的源代码并编译好了，于是我就想再试下Mac OS X下用Clang编译下Qt，以前曾经尝试过但失败了。这次也遇到两个错误，就是返回值类型要去const修饰，gitorious上已经有patch的，但在4.8.2上没有合入，自己改一下整个Qt 4.8.2就能用Clang编译通过了。Clang在Mac OS X上基于上处于产品级的质量了，但不知道在Windows上什么时候才能达到近似的水平啊，叹气。貌似Clang对unix-like的系统都支持得挺不错的，甚至能用来编译FreeBSD内核。</p>
