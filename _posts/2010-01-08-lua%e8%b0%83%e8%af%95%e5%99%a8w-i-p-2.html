---
layout: post
image: https://blogimg.minidump.info/2010-01-08-lua%e8%b0%83%e8%af%95%e5%99%a8w-i-p-2.html
author: missdeer
title: Lua调试器W.I.P.
categories:
- Lua，Script

---
<p>　　话说我已经怀疑起engine和controller都反应慢是由于延时轮循引起的，于是下定决心要改成通知的方式。翻了一篇Jeffrey大牛的《Windows核心编程》，发现只要用Event机制就可以实现了。不过如果直接用API来操作Event，我就有点儿不爽了，现在这个项目我比较希望它能在源代码层次尽可能地平台无关。于是又在Boost文档是找了一遍，发现thread库中似乎有对应的设施，其实这是可以理解的，本来就是线程间通信，同步的机制嘛，thread库虽说比较轻量级，但有这么个功能也是理所当然的。修改完代码，测试了一下，果然无论engine还是controller都是立马响应了，安逸呀！<br />
　　昨天又去了一趟4S店，没想到买个车上个牌有这么麻烦，还要等于1月15日才能在这边上，于是只好再去领了张临时牌照，可以拖到15日了。回来后就没什么心思继续写代码了，唉，我的意志力真是薄弱地几乎没有！<br />
　　 昨天晚上躺在床上，突然想起来，原先定的调试器三步走，后面二三两步的顺序应该反过来。因为engine端的启动（注入）方式修改后，必然对controller端要进行一定的同步修改，为了减少这部分同步修改的工作量，就不应该先把controller端合入到宿主程序中去，目前使用控制台方式的controller修改起来应该工作量要少得多。接着又担心起controller合入到宿主程序中的方式，因为可以预见到的是界面到时候会根据网络通信线程中接收到的信息做出不同的响应，照以前的经常，如果用的是MFC之类的方案，可能就是SendMessage给界面线程就可以了，可现在用wxWidgets，不知道应该怎么处理，看来又得好好看看Code::Blocks和CodeLite的代码了。</p>
