---
layout: post
image: https://img.peapix.com/7771117114677639407_320.jpg
author: missdeer
title: "自定义快捷键"
categories:
- CodingStudio
- wxWidgets  
---
<p>　　昨天完成了自定义快捷键的特性。该特性在配置对话框中实现与用户交互。<br />
　　首先，在程序启动时，装载所有菜单项时，把所有菜单项的ID、标题、快捷键信息记录下来，作为缺省的配置。将缺省配置保存到文件中，然后查看是否存在保存了修改后配置的文件，如果存在该文件，则装载该文件的配置，应用到程序中。应用过程分两步，刷新菜单显示和设置快捷键表。<br />
　　接着，处理在配置对话框中的用户交互响应。在对话框初始化时，加载当前正在使用的快捷键配置。用户可以修改其中任意一项的配置，当用户选择应用修改后的配置时，就将当前配置保存到文件中，以便下次程序启动时可以装载这个修改后的配置。<br />
　　基本处理流程就是这样。用wxWidgets实现时，也是比较容易的。wxWidgets提供了快捷键相关的几个类和方法，相当方便，包括wxAcceleratorEntry、wxAcceleratorTable、SetAcceleratorTable等等。<br />
　　这里不得不抱怨一下，wxWidgets对于一些明明日常需要使用的类和方法，竟然没有文档进行说明。另外还发现个问题，wxAcceleratorEntry有个ToString方法，当其中的Key Code是除了字母、数字外的其他的可打印字符时，会断言失败，太Orz了，只好自己写代码转换了。</p>
